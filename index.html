<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Richard's Photography</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&family=Great+Vibes&family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* --- GLOBAL & RESET --- */
        :root { --bg: #121212; --text: #e0e0e0; --accent: #ff7b00; --sidebar-w: 260px; }
        body { margin: 0; padding: 0; font-family: 'Montserrat', sans-serif; background-color: var(--bg); color: var(--text); overflow-x: hidden; }
        * { box-sizing: border-box; }
        a { text-decoration: none; color: inherit; transition: 0.3s; }
        p { font-weight: 400; line-height: 1.8; color: #ccc; }
        
        body { -webkit-user-select: none; -moz-user-select: none; user-select: none; }

        /* --- SIDEBAR (DESKTOP) --- */
        .sidebar {
            width: var(--sidebar-w);
            background-color: rgba(17, 17, 17, 0.98);
            padding: 40px 30px;
            display: flex; flex-direction: column;
            position: fixed; top: 0; left: 0; height: 100vh;
            border-right: 1px solid #222;
            z-index: 1000;
        }
        
        /* 修改点 2: Logo 字体改为 Cormorant Garamond */
        .logo { 
            font-family: 'Cormorant Garamond', serif;
            font-size: 28px; 
            color: #fff; 
            font-weight: 700; 
            margin-bottom: 40px; 
            border-bottom: 2px solid var(--accent); 
            padding-bottom: 10px; 
            display: inline-block; 
            letter-spacing: 1px; 
            text-transform: uppercase; /* 衬线体大写通常比较好看，也可以去掉 */
        }
        
        .nav-links { display: flex; flex-direction: column; gap: 18px; }
        .nav-links a { color: #999; font-size: 13px; text-transform: uppercase; letter-spacing: 2px; font-weight: 700; }
        .nav-links a:hover { color: #fff; padding-left: 5px; }

        /* --- DROPDOWN SUBMENU STYLES --- */
        .dropdown-container { width: 100%; display: flex; flex-direction: column; }
        .dropdown-trigger { display: flex; justify-content: space-between; align-items: center; cursor: pointer; color: #999; font-size: 13px; text-transform: uppercase; letter-spacing: 2px; font-weight: 700; }
        .dropdown-trigger:hover { color: #fff; }
        
        .submenu { 
            display: none; 
            flex-direction: column; 
            gap: 12px; 
            margin-top: 15px; 
            margin-bottom: 5px;
            padding-left: 15px;
            border-left: 1px solid #333; 
        }
        .submenu.active { display: flex; }
        .submenu a { font-size: 11px; color: #666; font-weight: 600; }
        .submenu a:hover { color: var(--accent); }

        .menu-toggle { display: none; font-size: 24px; cursor: pointer; color: white; }

        /* --- MAIN CONTENT --- */
        .main-content { 
            margin-left: var(--sidebar-w); 
            width: calc(100% - var(--sidebar-w)); 
            position: relative;
        }

        /* --- HERO SECTION --- */
        .hero { 
            height: 100vh; 
            position: relative; 
            overflow: hidden; 
            display: flex; 
            justify-content: center;
            align-items: flex-end; 
            /* 修改点 3: 这里的 padding-bottom 决定文字离底部的距离。越小越靠下 */
            padding-bottom: 5vh; 
            background: #000; 
        }
        
        .slideshow-container { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            z-index: 1; 
            opacity: 0.8s; 
        } 
        
        .slide { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            opacity: 0; transition: opacity 2s ease-in-out; 
            display: flex; justify-content: center; align-items: center;
        }
        .slide.active { opacity: 1; }

        .slide-content-single { width: 100%; height: 100%; position: relative; }
        .slide-content-double { width: 100%; height: 100%; display: flex; }
        
        .double-half {
            width: 50%; height: 100%;
            position: relative;
            overflow: hidden;
            border-right: 1px solid rgba(0,0,0,0.5); 
        }
        .double-half:last-child { border-right: none; }

        .slide-bg-blur {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover; background-position: center;
            filter: blur(30px) brightness(0.5);
            transform: scale(1.1);
            z-index: 1;
        }
        .slide-img-contain {
            position: relative; z-index: 2;
            width: 100%; height: 100%;
            background-size: contain; 
            background-repeat: no-repeat;
            background-position: center; 
        }
        
        .hero-text { 
            position: relative; z-index: 3; text-align: center; pointer-events: none; padding: 0 15px; width: 100%; max-width: 1000px;
        }

        /* 修改点 4: Hero Title 字体改为 Great Vibes */
        .hero-title { 
            font-family: 'Great Vibes', cursive; /* 手写艺术体 */
            font-size: 6rem; /* 手写体通常比印刷体看起来小，所以稍微加大 */
            text-transform: none; /* 手写体不适合全大写，改为正常大小写 */
            letter-spacing: 2px; 
            margin: 0; color: #fff; font-weight: 400; 
            text-shadow: 0 4px 15px rgba(0,0,0,1); opacity: 0.9; line-height: 1.1;
        }

        .hero-subtitle { 
            font-size: 1.1rem; color: #ccc; margin-top: 15px; letter-spacing: 4px; font-weight: 500; text-transform: uppercase; opacity: 0.0;
        }

        /* --- GALLERY NAV (Desktop Defaults) --- */
        .gallery-nav { 
            position: sticky; top: 0; z-index: 900; 
            background: rgba(18, 18, 18, 0.95); backdrop-filter: blur(5px);
            border-bottom: 1px solid #333;
            display: flex; justify-content: center; padding: 15px 0;
            margin-bottom: 40px;
        }
        .gallery-nav a { 
            padding: 10px 30px; 
            color: #aaa; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 2px; font-weight: 700;
        }
        .gallery-nav a:hover { color: var(--accent); }
        .nav-sep { color: #333; padding: 0 10px; }

        /* --- SECTIONS --- */
        section { padding: 40px; max-width: 1600px; margin: 0 auto; border-bottom: 1px solid #222; }
        .section-header { text-align: center; margin-bottom: 40px; padding-top: 40px; }
        .section-title { font-size: 2.5rem; font-weight: 800; text-transform: uppercase; letter-spacing: 5px; color: #fff; }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            grid-auto-rows: 10px;
        }
        .gallery-item { border-radius: 4px; overflow: hidden; background: #000; cursor: pointer; visibility: hidden; }
        .gallery-item img { width: 100%; display: block; transition: 0.5s; opacity: 0.9; }
        .gallery-item:hover img { transform: scale(1.05); opacity: 1; }

        .btn-wrapper { text-align: center; margin-top: 50px; }
        .view-more-btn {
            background: transparent; border: 2px solid rgba(255,255,255,0.2); color: #fff;
            padding: 15px 50px; font-size: 0.8rem; letter-spacing: 3px; text-transform: uppercase; font-weight: 700;
            cursor: pointer; transition: 0.3s; border-radius: 50px;
        }
        .view-more-btn:hover { background: #fff; color: #000; border-color: #fff; }

        .text-content { max-width: 700px; margin: 0 auto; text-align: center; line-height: 1.8; color: #ccc; }
        footer { padding: 50px 20px; text-align: center; background: #000; margin-top: 50px; display: flex; flex-direction: column; align-items: center; gap: 30px; }
        .socials { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; }
        .socials a { font-size: 1.2rem; color: #666; }

        /* --- MOBILE OPTIMIZATION --- */
        @media (max-width: 900px) {
            .sidebar { 
                position: fixed; width: 100%; height: 60px; 
                padding: 0 20px; 
                flex-direction: row; align-items: center; justify-content: space-between;
                border-bottom: 1px solid #333;
                background: rgba(18, 18, 18, 0.98);
            }
            .logo { margin-bottom: 0; border-bottom: none; font-size: 16px; letter-spacing: 0; }
            .menu-toggle { display: block; }
            
            .nav-links {
                position: fixed; top: 60px; left: 0; width: 100%; 
                background: #111; padding: 20px;
                display: none; 
                flex-direction: column; 
                align-items: flex-start; 
                border-bottom: 1px solid #333;
            }
            .nav-links.active { display: flex; }
            .nav-links > a, .dropdown-container { width: 100%; border-bottom: 1px solid #222; padding-bottom: 10px; margin-bottom: 10px; }
            .dropdown-trigger { width: 100%; justify-content: space-between; }
            
            .socials { margin-top: 0; }
            .sidebar .socials { display: none; } 

            .main-content { margin-left: 0; width: 100%; }
            
            .hero-title { 
                font-size: 3rem; /* 移动端稍微减小 */
                letter-spacing: 1px; line-height: 1.3; white-space: normal; 
            }
            .hero-subtitle { font-size: 0.75rem; letter-spacing: 2px; margin-top: 10px; }
            
            .gallery-nav { padding: 10px 0; }
            .gallery-nav a { 
                padding: 5px 8px; font-size: 0.7rem; letter-spacing: 1px; 
            }
            .nav-sep { padding: 0 2px; }

            .slide-content-double { flex-direction: column; }
            .double-half { width: 100%; height: 50%; border-right: none; border-bottom: 1px solid rgba(0,0,0,0.5); }
            .gallery-grid { grid-template-columns: 1fr; }
            section { padding: 40px 15px; } 
        }
        
        .lightbox { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.98); z-index: 2000; justify-content: center; align-items: center; }
        .lightbox img { max-width: 95%; max-height: 95vh; box-shadow: 0 0 40px rgba(0,0,0,0.5); }
        .close-btn { position: absolute; top: 30px; right: 30px; fill: white; width: 40px; height: 40px; cursor: pointer; background: rgba(255,255,255,0.1); border-radius: 50%; padding: 8px; }
    </style>
    <script>document.addEventListener('contextmenu', event => event.preventDefault());</script>
</head>
<body>

        <nav class="sidebar">
            <a href="#home" class="logo">Richard's Photography</a>
            <div class="menu-toggle" onclick="toggleMenu()"><i class="fas fa-bars"></i></div>
            
            <div class="nav-links" id="navLinks">
                <a href="#home" onclick="toggleMenu()">Home</a>
                <div class="dropdown-container">
                    <div class="dropdown-trigger" onclick="toggleSubmenu()">
                        Galleries <i class="fas fa-caret-down" id="gal-caret"></i>
                    </div>
                    <div class="submenu" id="gal-submenu">
                        <a href="#street" onclick="toggleMenu()">Street</a>
                        <a href="#nature" onclick="toggleMenu()">Nature</a>
                        <a href="#portrait" onclick="toggleMenu()">Portrait</a>
                    </div>
                </div>
                <a href="#about" onclick="toggleMenu()">About</a>
                <a href="#contact" onclick="toggleMenu()">Contact</a>
            </div>
            
            <div style="margin-top:auto"></div>
        <div class='socials' style='justify-content: flex-start;'><a href='https://www.linkedin.com/in/richard-yang-0b173a2aa/' target="_blank"><i class='fab fa-linkedin'></i></a><a href='https://www.instagram.com/richardyang02/' target="_blank"><i class='fab fa-instagram'></i></a><a href='https://github.com/uso12' target="_blank"><i class='fab fa-github'></i></a><a href='https://open.spotify.com/user/9528flmmasast6krr6mfnveq2?si=da2e3630e6f14d4a' target="_blank"><i class='fab fa-spotify'></i></a><a href='mailto:richard20020122@gmail.com' ><i class='fas fa-envelope'></i></a></div></nav><div class="main-content">
        <header class="hero" id="home">
            <div class="slideshow-container" id="hero-slides"></div>
            <div class="hero-text">
                <h1 class="hero-title">Richard's Photography</h1>
                <p class="hero-subtitle">Street | Nature | Portrait</p>
            </div>
        </header>
        
        <div id="galleries-start"></div>
        <nav class="gallery-nav">
            <a href="#street">Street</a>
            <span class="nav-sep">|</span>
            <a href="#nature">Nature</a>
            <span class="nav-sep">|</span>
            <a href="#portrait">Portrait</a>
        </nav>
        
            <section id="street">
                <div class="section-header"><h2 class="section-title">street</h2></div>
                <div class="gallery-grid" id="grid-street"></div>
                <div class="btn-wrapper">
                    <button class="view-more-btn" onclick="toggleSection('street')" id="btn-street">View More</button>
                </div>
            section>
            
            <section id="nature">
                <div class="section-header"><h2 class="section-title">nature</h2></div>
                <div class="gallery-grid" id="grid-nature"></div>
                <div class="btn-wrapper">
                    <button class="view-more-btn" onclick="toggleSection('nature')" id="btn-nature">View More</button>
                </div>
            section>
            
            <section id="portrait">
                <div class="section-header"><h2 class="section-title">portrait</h2></div>
                <div class="gallery-grid" id="grid-portrait"></div>
                <div class="btn-wrapper">
                    <button class="view-more-btn" onclick="toggleSection('portrait')" id="btn-portrait">View More</button>
                </div>
            section>
            
        <section id="about">
            <div class="section-header"><h2 class="section-title">About Me</h2></div>
            <div class="text-content">
                <p>I am a travel photographer driven by a curiosity for the world and the people who inhabit it. 
                My photography is more than just sightseeing; it is about capturing the distinct pulse of a place.</p>
                <p>Whether I am documenting the candid energy of street life, framing an intimate portrait that tells a silent story, 
                or witnessing the quiet majesty of nature, my goal remains the same: to freeze a fleeting moment that might otherwise be missed.</p>
            </div>
        </section>
        
        <section id="contact">
            <div class="section-header"><h2 class="section-title">Contact</h2></div>
            <div class="text-content">
                <p>Interested in prints or collaboration?</p>
                <form action="https://formspree.io/f/mykybnrg" method="POST" style="margin-top: 30px; text-align: left; display: flex; flex-direction: column; gap: 15px;">
                    <label style="color:#999; font-size: 12px; font-weight: bold; text-transform: uppercase;">Name</label>
                    <input type="text" name="name" placeholder="Your Name" required style="padding: 15px; background: #222; border: 1px solid #444; color: white; font-family: inherit;">
                    
                    <label style="color:#999; font-size: 12px; font-weight: bold; text-transform: uppercase;">Email</label>
                    <input type="email" name="email" placeholder="Your Email" required style="padding: 15px; background: #222; border: 1px solid #444; color: white; font-family: inherit;">
                    
                    <label style="color:#999; font-size: 12px; font-weight: bold; text-transform: uppercase;">Message</label>
                    <textarea name="message" rows="5" placeholder="Message" required minlength="10" style="padding: 15px; background: #222; border: 1px solid #444; color: white; font-family: inherit;"></textarea>
                    
                    <button type="submit" class="view-more-btn" style="background: var(--accent); border: none; margin-top:10px;">Send Message</button>
                </form>
            </div>
        </section>
        
        <footer>
            <div style="width: 250px; height: 250px; overflow: hidden; border-radius: 50%; box-shadow: 0 0 20px rgba(255,255,255,0.1); pointer-events: none;">
                <script type="text/javascript" id="mmvst_globe" src="https://mapmyvisitors.com/globe.js?d=OvRAWX3P9dxuVfxIndyu0KctuugYDxK7PnJ8iiIKGeE"></script>
            </div>
            
            <p>&copy; 2025 Richard's Photography</p>
        </footer>
        </div>
        
        <div class="lightbox" id="lightbox" onclick="closeLightbox()">
            <div class="close-btn"><svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></div>
            <img id="lightbox-img" src="">
        </div>

        <script>
            // --- UI FUNCTIONS ---
            function toggleMenu() {
                const nav = document.getElementById('navLinks');
                nav.classList.toggle('active');
            }

            function toggleSubmenu() {
                const sub = document.getElementById('gal-submenu');
                const caret = document.getElementById('gal-caret');
                sub.classList.toggle('active');
                if(sub.classList.contains('active')) {
                    caret.classList.remove('fa-caret-down');
                    caret.classList.add('fa-caret-up');
                } else {
                    caret.classList.remove('fa-caret-up');
                    caret.classList.add('fa-caret-down');
                }
            }

            // --- DATA ---
            const baseCategories = {"street": ["IMG_0709.jpg", "IMG_0776.jpg", "IMG_9449.jpg", "IMG_9650.jpg", "IMG_1202.jpg", "IMG_1176.jpg", "IMG_1144.jpg", "IMG_1371.jpg", "IMG_1378.jpg", "IMG_0397.jpg", "IMG_0418.jpg", "IMG_0465.jpg", "IMG_4309.jpg", "IMG_1945.jpg", "IMG_2009.jpg", "IMG_2017.jpg", "IMG_2991.jpg", "IMG_3135.jpg", "IMG_3299.jpg", "IMG_3304.jpg"], "nature": ["StarStaX_IMG_2000-IMG_2293_gap_filling1.jpg", "IMG_1886.jpg", "IMG_8670.jpg", "IMG_4003.jpg", "IMG_8845.jpg", "IMG_1565.jpg", "IMG_0466.jpg", "IMG_1790.jpg", "IMG_1545.jpg", "IMG_2016.jpg", "IMG_2264.jpg", "IMG_1786.jpg", "IMG_1807.jpg", "IMG_1808.jpg", "IMG_2344.jpg", "IMG_3832.jpg", "IMG_4962.jpg", "IMG_6001.jpg", "IMG_7189.jpg", "IMG_7225.jpg", "IMG_7311.jpg", "IMG_7346.jpg", "IMG_4129.jpg", "IMG_4147.jpg", "IMG_2604.jpg", "IMG_2618.jpg", "IMG_3331.jpg", "IMG_3356.jpg"], "portrait": ["IMG_3216.jpg", "IMG_3283.jpg", "IMG_3608.jpg", "IMG_1315.jpg", "IMG_8413.jpg", "IMG_7815.jpg", "IMG_7561.jpg", "IMG_7511.jpg", "IMG_8645.jpg", "IMG_8866.jpg", "IMG_3363.jpg", "IMG_0743.jpg", "IMG_0768.jpg", "IMG_1850.jpg", "IMG_1907.jpg", "IMG_3146.jpg", "IMG_4767.jpg", "IMG_6063.jpg", "IMG_6205.jpg", "IMG_2407.jpg", "IMG_2473.jpg", "IMG_6274.jpg", "IMG_6335.jpg", "IMG_6348.jpg", "IMG_6393.jpg", "IMG_6413.jpg", "IMG_7085.jpg", "IMG_2833.jpg", "IMG_4148.jpg", "IMG_4335.jpg", "IMG_1856.jpg"]};
            const additionalImages = {"street": ["IMG_1162.jpg", "IMG_9505.jpg", "IMG_0745.jpg", "IMG_8385.jpg", "IMG_0726.jpg", "IMG_5076.jpg", "IMG_1810.jpg", "IMG_3737.jpg", "IMG_2168.jpg", "IMG_2084.jpg", "IMG_5259.jpg", "IMG_1177.jpg", "IMG_3400.jpg", "IMG_2012.jpg", "IMG_2016_2.jpg", "IMG_2641.jpg"], "nature": ["IMG_4006.jpg", "IMG_1621.jpg", "IMG_5844.jpg", "IMG_0209.jpg", "IMG_0280.jpg", "IMG_0755.jpg", "IMG_1895.jpg", "IMG_1919.jpg", "IMG_1993.jpg", "IMG_2021.jpg", "IMG_2561.jpg", "IMG_2583.jpg", "IMG_4897.jpg", "IMG_3473.jpg", "IMG_4141.jpg"], "portrait": ["IMG_2848.jpg", "IMG_6053.jpg", "IMG_6091.jpg", "IMG_5457.jpg", "IMG_2498.jpg", "IMG_3185.jpg", "IMG_6442.jpg", "IMG_6825.jpg", "IMG_9266.jpg", "IMG_7956.jpg", "IMG_7975.jpg", "IMG_7536.jpg", "IMG_7737.jpg", "IMG_7809.jpg", "IMG_7820.jpg", "IMG_7827.jpg", "IMG_7794.jpg", "IMG_4732.jpg", "IMG_4734.jpg", "IMG_2943.jpg", "IMG_4353.jpg", "IMG_4797.jpg", "IMG_2599.jpg", "IMG_3479.jpg", "IMG_3573.jpg", "IMG_4327.jpg", "IMG_0831.jpg"]};
            const allBgImages = ["photos-reduce/street/IMG_0709.jpg", "photos-reduce/street/IMG_0776.jpg", "photos-reduce/street/IMG_9449.jpg", "photos-reduce/street/IMG_9650.jpg", "photos-reduce/street/IMG_1202.jpg", "photos-reduce/street/IMG_1176.jpg", "photos-reduce/street/IMG_1144.jpg", "photos-reduce/street/IMG_1371.jpg", "photos-reduce/street/IMG_1378.jpg", "photos-reduce/street/IMG_0397.jpg", "photos-reduce/street/IMG_0418.jpg", "photos-reduce/street/IMG_0465.jpg", "photos-reduce/street/IMG_4309.jpg", "photos-reduce/street/IMG_1945.jpg", "photos-reduce/street/IMG_2009.jpg", "photos-reduce/street/IMG_2017.jpg", "photos-reduce/street/IMG_2991.jpg", "photos-reduce/street/IMG_3135.jpg", "photos-reduce/street/IMG_3299.jpg", "photos-reduce/street/IMG_3304.jpg", "photos-reduce/nature/StarStaX_IMG_2000-IMG_2293_gap_filling1.jpg", "photos-reduce/nature/IMG_1886.jpg", "photos-reduce/nature/IMG_8670.jpg", "photos-reduce/nature/IMG_4003.jpg", "photos-reduce/nature/IMG_8845.jpg", "photos-reduce/nature/IMG_1565.jpg", "photos-reduce/nature/IMG_0466.jpg", "photos-reduce/nature/IMG_1790.jpg", "photos-reduce/nature/IMG_1545.jpg", "photos-reduce/nature/IMG_2016.jpg", "photos-reduce/nature/IMG_2264.jpg", "photos-reduce/nature/IMG_1786.jpg", "photos-reduce/nature/IMG_1807.jpg", "photos-reduce/nature/IMG_1808.jpg", "photos-reduce/nature/IMG_2344.jpg", "photos-reduce/nature/IMG_3832.jpg", "photos-reduce/nature/IMG_4962.jpg", "photos-reduce/nature/IMG_6001.jpg", "photos-reduce/nature/IMG_7189.jpg", "photos-reduce/nature/IMG_7225.jpg", "photos-reduce/nature/IMG_7311.jpg", "photos-reduce/nature/IMG_7346.jpg", "photos-reduce/nature/IMG_4129.jpg", "photos-reduce/nature/IMG_4147.jpg", "photos-reduce/nature/IMG_2604.jpg", "photos-reduce/nature/IMG_2618.jpg", "photos-reduce/nature/IMG_3331.jpg", "photos-reduce/nature/IMG_3356.jpg", "photos-reduce/portrait/IMG_3216.jpg", "photos-reduce/portrait/IMG_3283.jpg", "photos-reduce/portrait/IMG_3608.jpg", "photos-reduce/portrait/IMG_1315.jpg", "photos-reduce/portrait/IMG_8413.jpg", "photos-reduce/portrait/IMG_7815.jpg", "photos-reduce/portrait/IMG_7561.jpg", "photos-reduce/portrait/IMG_7511.jpg", "photos-reduce/portrait/IMG_8645.jpg", "photos-reduce/portrait/IMG_8866.jpg", "photos-reduce/portrait/IMG_3363.jpg", "photos-reduce/portrait/IMG_0743.jpg", "photos-reduce/portrait/IMG_0768.jpg", "photos-reduce/portrait/IMG_1850.jpg", "photos-reduce/portrait/IMG_1907.jpg", "photos-reduce/portrait/IMG_3146.jpg", "photos-reduce/portrait/IMG_4767.jpg", "photos-reduce/portrait/IMG_6063.jpg", "photos-reduce/portrait/IMG_6205.jpg", "photos-reduce/portrait/IMG_2407.jpg", "photos-reduce/portrait/IMG_2473.jpg", "photos-reduce/portrait/IMG_6274.jpg", "photos-reduce/portrait/IMG_6335.jpg", "photos-reduce/portrait/IMG_6348.jpg", "photos-reduce/portrait/IMG_6393.jpg", "photos-reduce/portrait/IMG_6413.jpg", "photos-reduce/portrait/IMG_7085.jpg", "photos-reduce/portrait/IMG_2833.jpg", "photos-reduce/portrait/IMG_4148.jpg", "photos-reduce/portrait/IMG_4335.jpg", "photos-reduce/portrait/IMG_1856.jpg"];
            const thumbDir = "photos-reduce";
            const fullDir = "photos-1_5_resolution";
            let expandedState = { street: false, nature: false, portrait: false };

            // --- INSTANT LOAD SLIDESHOW ENGINE ---
            const heroContainer = document.getElementById('hero-slides');
            
            function shuffle(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            async function buildSlides(imagePaths) {
                const portraits = [];
                const landscapes = [];

                // 1. Analyze Aspect Ratios
                await Promise.all(imagePaths.map(src => {
                    return new Promise(resolve => {
                        const img = new Image();
                        img.src = src;
                        img.onload = () => resolve({ src, isPortrait: img.height > img.width });
                        img.onerror = () => resolve(null);
                    });
                })).then(results => {
                    results.forEach(res => {
                        if (!res) return;
                        if (res.isPortrait) portraits.push(res.src);
                        else landscapes.push(res.src);
                    });
                });

                // 2. Pair/Build elements
                const newSlides = [];

                while(portraits.length >= 2) {
                    const p1 = portraits.pop();
                    const p2 = portraits.pop();
                    const el = document.createElement('div');
                    el.className = 'slide';
                    el.innerHTML = `
                        <div class="slide-content-double">
                            <div class="double-half">
                                <div class="slide-bg-blur" style="background-image: url('${p1}');"></div>
                                <div class="slide-img-contain" style="background-image: url('${p1}');"></div>
                            </div>
                            <div class="double-half">
                                <div class="slide-bg-blur" style="background-image: url('${p2}');"></div>
                                <div class="slide-img-contain" style="background-image: url('${p2}');"></div>
                            </div>
                        </div>`;
                    newSlides.push(el);
                }

                // If any portraits left, add to single
                while(portraits.length > 0) {
                    const p1 = portraits.pop();
                    const el = document.createElement('div');
                    el.className = 'slide';
                    el.innerHTML = `
                        <div class="slide-content-single">
                            <div class="slide-bg-blur" style="background-image: url('${p1}');"></div>
                            <div class="slide-img-contain" style="background-image: url('${p1}');"></div>
                        </div>`;
                    newSlides.push(el);
                }

                while(landscapes.length > 0) {
                    const l1 = landscapes.pop();
                    const el = document.createElement('div');
                    el.className = 'slide';
                    el.innerHTML = `
                        <div class="slide-content-single">
                            <div class="slide-bg-blur" style="background-image: url('${l1}');"></div>
                            <div class="slide-img-contain" style="background-image: url('${l1}');"></div>
                        </div>`;
                    newSlides.push(el);
                }
                
                return shuffle(newSlides);
            }

            async function initSlideshow() {
                const allShuffled = shuffle(allBgImages.slice());
                
                // --- STAGE 1: SUPER FAST LOAD (First 5 images only) ---
                const batch1 = allShuffled.slice(0, 5); 
                const batch2 = allShuffled.slice(5);

                const slides1 = await buildSlides(batch1);
                
                if (slides1.length > 0) {
                    slides1.forEach((el, index) => {
                        if (index === 0) el.classList.add('active'); 
                        heroContainer.appendChild(el);
                    });
                }

                // Start Rotating immediately
                let slideIndex = 0;
                setInterval(() => {
                    const slides = document.querySelectorAll('.slide');
                    if(slides.length === 0) return;
                    slides[slideIndex].classList.remove('active');
                    slideIndex = (slideIndex + 1) % slides.length;
                    slides[slideIndex].classList.add('active');
                }, 8000); 

                // --- STAGE 2: BACKGROUND LOAD (Wait 3 seconds) ---
                if (batch2.length > 0) {
                    setTimeout(async () => {
                        console.log("Loading remaining images in background...");
                        const slides2 = await buildSlides(batch2);
                        slides2.forEach(el => heroContainer.appendChild(el));
                    }, 3000);
                }
            }

            initSlideshow();

            // --- GRID LOGIC ---
            function createItem(filename, category) {
                let div = document.createElement('div');
                div.className = 'gallery-item';
                let img = document.createElement('img');
                let thumbPath = `${thumbDir}/${category}/${filename}`;
                let fullPath = `${fullDir}/${category}/${filename}`;
                img.src = thumbPath;
                img.loading = "lazy";
                div.onclick = () => openLightbox(fullPath);
                img.onload = () => resizeGridItem(div);
                div.appendChild(img);
                return div;
            }

            function loadCategory(cat) {
                let grid = document.getElementById(`grid-${cat}`);
                grid.innerHTML = ""; 
                let imagesToShow = baseCategories[cat];
                if (expandedState[cat]) { imagesToShow = imagesToShow.concat(additionalImages[cat]); }
                if(imagesToShow) {
                    imagesToShow.forEach(filename => { grid.appendChild(createItem(filename, cat)); });
                }
            }

            function toggleSection(cat) {
                expandedState[cat] = !expandedState[cat];
                let btn = document.getElementById(`btn-${cat}`);
                btn.innerText = expandedState[cat] ? "View Less" : "View More";
                loadCategory(cat);
            }

            function resizeGridItem(item) {
                let grid = item.parentElement;
                let rowHeight = parseInt(window.getComputedStyle(grid).getPropertyValue('grid-auto-rows'));
                let rowGap = parseInt(window.getComputedStyle(grid).getPropertyValue('gap'));
                let rowSpan = Math.ceil((item.querySelector('img').getBoundingClientRect().height + rowGap) / (rowHeight + rowGap));
                item.style.gridRowEnd = "span " + rowSpan;
                item.style.visibility = "visible";
            }

            function resizeAll() {
                let allItems = document.getElementsByClassName("gallery-item");
                for(let x=0; x<allItems.length;x++){ resizeGridItem(allItems[x]); }
            }
            window.addEventListener("resize", resizeAll);
            Object.keys(baseCategories).forEach(cat => loadCategory(cat));

            function openLightbox(src) {
                document.getElementById('lightbox-img').src = src;
                document.getElementById('lightbox').style.display = 'flex';
            }
            function closeLightbox() {
                document.getElementById('lightbox').style.display = 'none';
            }
        </script>
        </body>
        </html>
        